import{p as f,e as h}from"./swal-FXd2eKjy.js";import{_ as V,c as v,a as e,b as t,w as b,r as a,o as g,h as m}from"./index-gzh1gDBb.js";import"./sweetalert2.all--W2uxDSh.js";var w={VITE_API:"https://ec-course-api.hexschool.io",VITE_PATH:"eerovuelive",BASE_URL:"/HexSchool-2023Vue-Week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:x}=w,E={data(){return{user:{username:"",password:""}}},methods:{postLogin(){Object.values(this.user).includes("")||this.$http.post(`${x}/v2/admin/signin`,this.user).then(s=>{const{token:n,expired:i,message:o}=s.data;document.cookie=`homeWork=${n}; expires=${new Date(i)};`,f(o),this.$router.push("/admin/products")}).catch(s=>{const{message:n}=s.response.data;h(n)})}}},k={class:"d-flex justify-content-center align-items-center vh-100"},y={class:"container-fluid"},I={class:"row justify-content-center"},A={class:"col-10 col-md-6 col-xl-2"},P=e("h2",{class:"text-center mb-4"},"使用者登入",-1),S={class:"form-floating mb-3"},M=e("label",{for:"floatingInput"},"信箱",-1),B={class:"form-floating mb-3"},D=e("label",{for:"floatingPassword"},"密碼",-1),F=e("button",{type:"submit",class:"btn btn-primary w-100"},"登入",-1),L=e("p",{class:"mt-5 pt-5 h5 text-center text-secondary"}," 六角學院 2023 Vue 直播班-第六週主線任務 ",-1);function T(u,s,n,i,o,p){const l=a("VField"),c=a("ErrorMessage"),_=a("VForm");return g(),v("div",k,[e("div",y,[e("div",I,[e("div",A,[t(_,{onSubmit:p.postLogin},{default:b(({errors:d})=>[P,e("div",S,[t(l,{type:"email",name:"信箱",class:m(["form-control",{"is-invalid":d.信箱}]),id:"floatingInput",placeholder:"email",rules:"required|email",modelValue:o.user.username,"onUpdate:modelValue":s[0]||(s[0]=r=>o.user.username=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),M,t(c,{name:"信箱",class:"invalid-feedback"})]),e("div",B,[t(l,{type:"password",name:"密碼",class:m(["form-control",{"is-invalid":d.密碼}]),id:"floatingPassword",placeholder:"password",rules:"required",modelValue:o.user.password,"onUpdate:modelValue":s[1]||(s[1]=r=>o.user.password=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),D,t(c,{name:"密碼",class:"invalid-feedback"})]),F]),_:1},8,["onSubmit"])])]),L])])}const O=V(E,[["render",T]]);export{O as default};

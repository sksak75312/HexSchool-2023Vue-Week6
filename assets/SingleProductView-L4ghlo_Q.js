import{e as a,p as u}from"./swal-FXd2eKjy.js";import{L as _}from"./LoadingOverlay-_dypeP48.js";import{_ as g,c as h,a as t,t as i,f as m,v,b as f,F as y,r as L,o as O}from"./index-gzh1gDBb.js";import"./sweetalert2.all--W2uxDSh.js";var V={VITE_API:"https://ec-course-api.hexschool.io",VITE_PATH:"eerovuelive",BASE_URL:"/HexSchool-2023Vue-Week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:l,VITE_PATH:c}=V,$={data(){return{product:{},qty:1}},methods:{getSingleProduct(){const{id:o}=this.$route.params;this.$refs.LoadingOverlay.isLoading=!0,this.$http.get(`${l}/v2/api/${c}/product/${o}`).then(s=>{this.product=s.data.product,this.$refs.LoadingOverlay.isLoading=!1}).catch(s=>{a(s.response.data.message),this.$router.go(-1)})},postCart(o){this.$refs.LoadingOverlay.isLoading=!0;const s={product_id:o,qty:this.qty};this.$http.post(`${l}/v2/api/${c}/cart`,{data:s}).then(r=>{u(r.data.message),this.$refs.LoadingOverlay.isLoading=!1,this.qty=1}).catch(r=>{this.$refs.LoadingOverlay.isLoading=!1,a(r.response.data.message)})}},mounted(){this.getSingleProduct()},components:{LoadingOverlay:_}},b={class:"container"},x={class:"row"},E={class:"col-sm-6"},P=["src","alt"],S={class:"col-sm-6 d-flex flex-column"},A=t("span",{class:"align-self-start badge bg-primary rounded-pill"},null,-1),T={class:"h6"},q={class:"h5"},I={class:"mt-auto"},D={class:"input-group"};function k(o,s,r,B,e,d){const p=L("LoadingOverlay");return O(),h(y,null,[t("div",b,[t("div",x,[t("div",E,[t("img",{class:"img-fluid",src:e.product.imageUrl,alt:e.product.description},null,8,P)]),t("div",S,[A,t("p",null,"商品描述： "+i(e.product.description),1),t("p",null,"商品內容： "+i(e.product.content),1),t("del",T,"原價 "+i(e.product.origin_price)+" 元",1),t("div",q,"現在只要 "+i(e.product.price)+" 元",1),t("div",I,[t("div",D,[m(t("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":s[0]||(s[0]=n=>e.qty=n)},null,512),[[v,e.qty]]),t("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=n=>d.postCart(e.product.id))},"加入購物車")])])])])]),f(p,{ref:"LoadingOverlay"},null,512)],64)}const U=g($,[["render",k]]);export{U as default};
